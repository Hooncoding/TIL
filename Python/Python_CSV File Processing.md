파이썬 CSV 파일 처리
====
CSV 파일이란 데이터 저장 시 많이 사용하는 파일 포맷이다.    
CSV는 몇 가지 필드를 쉼표(,)로 구분한 텍스트 파일이다.  
파이썬 파일 처리 기능과 더불어 csv 모듈을 활용하면 해당 파일을 쉽게 처리할 수 있다.  

CSV 파일 열기/읽기
-----
```python
>>> import csv
>>> f = open('국가철도공단_부산_지하철_환승정보_20201123.csv', 'r', encoding='ms949')
>>> rd = csv.reader(f) 
>>> for data in rd:
...     print(data)
... 
['철도운영기관명', '선명', '역명', '환승철도운영기관', '환승선명', '환승이후역명', '환승기점역명', '차량순서', '차량출입문번호']
['부산교통공사', '1호선', '서면', '부산교통공사', '2호선', '부암(온종합병원)', '양산(시청·동원과학기술대학교)', '6', '1']
['부산교통공사', '1호선', '서면', '부산교통공사', '2호선', '전포', '장산(해운대백병원)', '6', '1']
['부산교통공사', '1호선', '서면', '부산교통공사', '2호선', '부암(온종합병원)', '양산(시청·동원과학기술대학교)', '7', '1']
['부산교통공사', '1호선', '서면', '부산교통공사', '2호선', '전포', '장산(해운대백병원)', '7', '1']
['부산교통공사', '1호선', '연산', '부산교통공사', '3호선', '물만골', '수영', '4', '1']
['부산교통공사', '1호선', '연산', '부산교통공사', '3호선', '거제', '대저', '4', '1']
['부산교통공사', '1호선', '연산', '부산교통공사', '3호선', '거제', '대저', '5', '1']
['부산교통공사', '1호선', '연산', '부산교통공사', '3호선', '물만골', '수영', '5', '1']
['부산교통공사', '1호선', '교대', '코레일', '동해', '거제(법원·검찰청)', '부전', '6', '2']
['부산교통공사', '1호선', '교대', '코레일', '동해', '동래', '일광', '6', '2']
['부산교통공사', '1호선', '교대', '코레일', '동해', '거제(법원·검찰청)', '부전', '8', '2']
['부산교통공사', '1호선', '교대', '코레일', '동해', '동래', '일광', '8', '2']
['부산교통공사', '1호선', '동래', '부산교통공사', '4호선', '수안', '안평(고촌주택단지)', '4', '1']
['부산교통공사', '1호선', '동래', '부산교통공사', '4호선', '미남', '미남', '5', '3']
['부산교통공사', '1호선', '동래', '부산교통공사', '4호선', '수안', '안평(고촌주택단지)', '5', '3']
['부산교통공사', '1호선', '동래', '부산교통공사', '4호선', '미남', '미남', '4', '1']
['부산교통공사', '2호선', '벡스코(시립미술관)', '코레일', '동해', '신해운대', '일광', '1', '1']
['부산교통공사', '2호선', '벡스코(시립미술관)', '코레일', '동해', '센텀', '일광', '1', '1']
['부산교통공사', '2호선', '벡스코(시립미술관)', '코레일', '동해', '센텀', '부전', '1', '1']
['부산교통공사', '2호선', '벡스코(시립미술관)', '코레일', '동해', '신해운대', '부전', '1', '1']
['부산교통공사', '2호선', '수영', '부산교통공사', '3호선', '망미(병무청)', '대저', '5', '3']
['부산교통공사', '2호선', '수영', '부산교통공사', '3호선', '망미(병무청)', '대저', '4', '1']
['부산교통공사', '2호선', '서면', '부산교통공사', '1호선', '범내골', '신평', '5', '4']
>>> f.close()
```
주의점1. csv파일을 받을 때 반드시 인코딩을 확인하고 해당 인코딩을 open시 명시해주어야 데이터가 안깨진다.
특이점1. reader()는 csv 모듈 내 메소드로 데이터를 이쁘게 보여준다.

원래 기존 파일 읽기 방식을 할 수 있으나 이쁘지 않게 나온다.

```python
>>> import csv
>>> f = open('국가철도공단_부산_지하철_환승정보_20201123.csv', 'r', encoding='ms949')
>>> data = f.readlines()
>>> 
>>> for line in data:
...     print(line, end='')
... 
철도운영기관명,선명,역명,환승철도운영기관,환승선명,환승이후역명,환승기점역명,차량순서,차량출입문번호
부산교통공사,1호선,서면,부산교통공사,2호선,부암(온종합병원),양산(시청·동원과학기술대학교),6,1
부산교통공사,1호선,서면,부산교통공사,2호선,전포,장산(해운대백병원),6,1
부산교통공사,1호선,서면,부산교통공사,2호선,부암(온종합병원),양산(시청·동원과학기술대학교),7,1
부산교통공사,1호선,서면,부산교통공사,2호선,전포,장산(해운대백병원),7,1
부산교통공사,1호선,연산,부산교통공사,3호선,물만골,수영,4,1
부산교통공사,1호선,연산,부산교통공사,3호선,거제,대저,4,1
부산교통공사,1호선,연산,부산교통공사,3호선,거제,대저,5,1
부산교통공사,1호선,연산,부산교통공사,3호선,물만골,수영,5,1
부산교통공사,1호선,교대,코레일,동해,거제(법원·검찰청),부전,6,2
부산교통공사,1호선,교대,코레일,동해,동래,일광,6,2
부산교통공사,1호선,교대,코레일,동해,거제(법원·검찰청),부전,8,2
부산교통공사,1호선,교대,코레일,동해,동래,일광,8,2
부산교통공사,1호선,동래,부산교통공사,4호선,수안,안평(고촌주택단지),4,1
부산교통공사,1호선,동래,부산교통공사,4호선,미남,미남,5,3
부산교통공사,1호선,동래,부산교통공사,4호선,수안,안평(고촌주택단지),5,3
부산교통공사,1호선,동래,부산교통공사,4호선,미남,미남,4,1
부산교통공사,2호선,벡스코(시립미술관),코레일,동해,신해운대,일광,1,1
부산교통공사,2호선,벡스코(시립미술관),코레일,동해,센텀,일광,1,1
부산교통공사,2호선,벡스코(시립미술관),코레일,동해,센텀,부전,1,1
부산교통공사,2호선,벡스코(시립미술관),코레일,동해,신해운대,부전,1,1
부산교통공사,2호선,수영,부산교통공사,3호선,망미(병무청),대저,5,3
부산교통공사,2호선,수영,부산교통공사,3호선,망미(병무청),대저,4,1
부산교통공사,2호선,서면,부산교통공사,1호선,범내골,신평,5,4
부산교통공사,2호선,서면,부산교통공사,1호선,부전(부산시민공원·송상현광장),노포(종합버스터미널),6,4
부산교통공사,2호선,서면,부산교통공사,1호선,범내골,신평,5,4
```

CSV 파일 쓰기
-----
```python
>>> import csv
>>> f = open('test_csv.csv', 'w', encoding='utf-8')
>>> wr = csv.writer(f)
>>> wr.writerow([1, '홍길동', '남자'])
>>> wr.writerow([2, '홍길순', '여자'])
>>> f.close()
```
기존 write()는 str만 쓸 수 있지만, writer는 리스트 쓰기를 지원한다.
